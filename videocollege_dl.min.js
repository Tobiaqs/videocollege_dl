!function(){let a={getPlayerOptionsRequest:{ResourceId:location.pathname.split("/").reverse()[0],QueryString:location.search,UseScreenReader:!1,UrlReferrer:document.referrer}};fetch("/Mediasite/PlayerService/PlayerService.svc/json/GetPlayerOptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"}).then(a=>a.json(),a=>{alert("An error occurred. See console for details.");console.log(a)}).then(a=>{if(!(a&&a.d&&a.d.Presentation&&a.d.Presentation.Streams))return alert("Unusable data received. See console for a dump."),void console.log(a);let b=a.d.Presentation.Streams.find(a=>a.VideoUrls.length>0);if(!b)return void alert("No video stream found.");let c=document.createElement("A");c.download=a.d.Presentation.Title;c.href=b.VideoUrls[0].Location;document.body.appendChild(c);c.click()})}();